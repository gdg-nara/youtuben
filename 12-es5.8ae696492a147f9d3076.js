function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"k+ul":function(e,t,a){"use strict";a.r(t),a.d(t,"Tab3PageModule",(function(){return _}));var r,n,i,o,s,l,u,c,h,d=a("TEn/"),p=a("tyNb"),g=a("ofXK"),f=a("3Pt+"),v=a("fXoL"),m=a("Ew83"),b=a("mrSG"),y=((l=function(){function e(t,a){var r=this;_classCallCheck(this,e),this.googleChartsSettings=a,this.googleScriptLoadingNotifier=new v.n,this.googleScriptIsLoading=!1,this.localeId=t,this.loadGoogleChartsScriptPromise=new Promise((function(e,t){if("undefined"!=typeof google&&google.charts)e();else if(r.googleScriptIsLoading)r.googleScriptLoadingNotifier.subscribe((function(a){a?e():t()}));else{r.googleScriptIsLoading=!0;var a=document.createElement("script");a.type="text/javascript",a.src="https://www.gstatic.com/charts/loader.js",a.async=!0,a.defer=!0,a.onload=function(){r.googleScriptIsLoading=!1,r.googleScriptLoadingNotifier.emit(!0),e()},a.onerror=function(){r.googleScriptIsLoading=!1,r.googleScriptLoadingNotifier.emit(!1),t()},document.getElementsByTagName("head")[0].appendChild(a)}}))}return _createClass(e,[{key:"load",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadGoogleChartsScriptPromise;case 2:return t.next=4,new Promise((function(t){e||(e=Object.create(a.googleChartsSettings)),e||(e={}),e.language||(e.language=a.localeId),e.googleChartsVersion||(e.googleChartsVersion="47");var r=e;r.callback=t,google.charts.load(e.googleChartsVersion,r)}));case 4:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||l)(v.Qb(v.u),v.Qb("googleChartsSettings",8))},l.\u0275prov=Object(v.Fb)({factory:function(){return new l(Object(v.Qb)(v.u),Object(v.Qb)("googleChartsSettings",8))},token:l,providedIn:"root"}),l),T=((s=function(){function e(t){_classCallCheck(this,e),this.opt=t,this.dataTableChanged=new v.n,t&&this._setDataTable(t.dataTable,t.firstRowIsData)}return _createClass(e,[{key:"send",value:function(){var e=this;void 0!==this.query&&this.query.send((function(t){e.setDataTable(t.getDataTable()),e.opt.queryCallback&&e.opt.queryCallback(t)}))}},{key:"init",value:function(e){var t=this;e&&(this.opt=e),void 0!==this.tid&&(window.clearInterval(this.tid),this.tid=void 0),this.opt.dataSourceUrl?(this.query=new google.visualization.Query(this.opt.dataSourceUrl),this.opt.query&&this.query.setQuery(this.opt.query),void 0!==this.opt.timeout&&this.query.setTimeout(this.opt.timeout),this.opt.refreshInterval&&(this.tid=window.setInterval((function(){t.send()}),1e3*this.opt.refreshInterval)),this.send()):this.setDataTable(this.opt.dataTable)}},{key:"getDataTable",value:function(){return this.dataTable}},{key:"setDataTable",value:function(e,t){void 0===t&&(t=this.opt.firstRowIsData),this._setDataTable(e,t),this.dataTableChanged.emit(this.dataTable)}},{key:"_setDataTable",value:function(e,t){Array.isArray(e)&&(e=google.visualization.arrayToDataTable(e,t)),this.dataTable=e,this.reformat()}},{key:"reformat",value:function(){var e=this.dataTable;if(void 0!==e&&void 0!==this.opt.formatters){var t,a=_createForOfIteratorHelper(this.opt.formatters);try{for(a.s();!(t=a.n()).done;){var r=t.value,n=void 0;if("PatternFormat"!==r.type){var i=google.visualization[r.type],o=r.options;if(n=new i(o),"ColorFormat"===r.type&&o){var s,l=_createForOfIteratorHelper(o.ranges);try{for(l.s();!(s=l.n()).done;){var u=s.value;void 0!==u.fromBgColor&&void 0!==u.toBgColor?n.addGradientRange(u.from,u.to,u.color,u.fromBgColor,u.toBgColor):n.addRange(u.from,u.to,u.color,u.bgcolor)}}catch(g){l.e(g)}finally{l.f()}}var c,h=_createForOfIteratorHelper(r.columns);try{for(h.s();!(c=h.n()).done;){var d=c.value;n.format(e,d)}}catch(g){h.e(g)}finally{h.f()}}else{var p=r.options;(n=new google.visualization.PatternFormat(p.pattern)).format(e,r.columns,p.dstColumnIndex)}}}catch(g){a.e(g)}finally{a.f()}}}}]),e}()).\u0275fac=function(e){v.Tb()},s.\u0275dir=v.Eb({type:s,outputs:{dataTableChanged:"dataTableChanged"}}),s),w=function(){var e=function(){function e(t){_classCallCheck(this,e),this.el=t}return _createClass(e,[{key:"setPosition",value:function(t,a){this.el.nativeElement.style.left=t+e.PIXELS,this.el.nativeElement.style.top=a+e.PIXELS}},{key:"getDOMElement",value:function(){return this.el}}]),e}();return e.PIXELS="px",e}(),C=((o=function(){function e(t,a){var r=this;_classCallCheck(this,e),this.el=t,this.loaderService=a,this.mouseOverListener=function(e){var t=r.parseMouseEvent(e);return t.tooltip=r.getHTMLTooltip(),t},this.mouseOutListener=function(e){return r.parseMouseEvent(e)},this.selectListener=function(){var e={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},t=r.wrapper.visualization.getSelection(),a=t[t.length-1];if(!a)return e.message="deselect",e;var n=a;if(null!=a.row){e.row=n.row;for(var i=[],o=[],s=r.wrapper.getDataTable(),l=s.getNumberOfColumns(),u=0;u<l;u++)i.push(s.getValue(n.row,u)),o.push(s.getFormattedValue(n.row,u));e.selectedRowValues=i,e.selectedRowFormattedValues=o}return null!=n.column&&(e.column=n.column,e.columnLabel=r.getColumnLabelAtPosition(n)),a.name&&(e.columnLabel=a.name),e},this.chartSelect=new v.n,this.chartSelectOneTime=new v.n,this.chartReady=new v.n,this.chartReadyOneTime=new v.n,this.chartError=new v.n,this.chartErrorOneTime=new v.n,this.mouseOver=new v.n,this.mouseOverOneTime=new v.n,this.mouseOut=new v.n,this.mouseOutOneTime=new v.n,this.regionClick=new v.n,this.regionClickOneTime=new v.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.HTMLel=this.el.nativeElement.querySelector("div"),Object.isExtensible(this.data)&&(this.data.component=this),this.options=this.data.options,this.init().then((function(){e.draw()}))}},{key:"init",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loaderService.load();case 2:this.recreateWrapper();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"recreateWrapper",value:function(){var e=this;if(void 0===this.wrapper||this.wrapper.getChartType()!==this.data.chartType){this.dataTable=new T(this.data),this.dataTable.dataTableChanged.subscribe((function(t){e._draw()}));var t=this.data;if(this.data.firstRowIsData&&((t=Object.assign(t,this.data)).dataTable=this.dataTable.getDataTable()),this.wrapper=new google.visualization.ChartWrapper(t),this.registerChartWrapperEvents(),void 0===t.dataTable&&void 0===t.dataSourceUrl)try{this.wrapper.draw(this.HTMLel)}catch(a){}}}},{key:"_draw",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(t=this.dataTable.getDataTable())&&(this.convertOptions(),this.recreateWrapper(),this.wrapper.setOptions(this.options),this.wrapper.setDataTable(t),this.wrapper.draw(this.HTMLel));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getDataTable",value:function(){return this.dataTable}},{key:"draw",value:function(e){void 0===e&&(e=this.data),this.options=e.options,this.dataTable.init(e)}},{key:"getSelectorBySeriesType",value:function(e){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[e]}},{key:"getSeriesByColumn",value:function(e){for(var t=0,a=this.wrapper.getDataTable(),r=e-1;r>=0;r--){var n=a.getColumnRole(r),i=a.getColumnType(r);"data"!==n&&"number"!==i||t++}return t}},{key:"getBoundingBoxForItem",value:function(e){var t={top:0,left:0,width:0,height:0};if(this.cli){var a=e.column,r=this.getSeriesByColumn(a),n=e.row,i=this.options.seriesType;if(this.options.series&&this.options.series[r]&&this.options.series[r].type&&(i=this.options.series[r].type),i){var o=this.getSelectorBySeriesType(i);if(o){o=o.replace("%s",r+"").replace("%c",a+"").replace("%r",n+"");var s=this.cli.getBoundingBox(o);s&&(t=s)}}}return t}},{key:"getValueAtPosition",value:function(e){return null==e.row?null:this.wrapper.getDataTable().getValue(e.row,e.column)}},{key:"getColumnTypeAtPosition",value:function(e){return this.wrapper.getDataTable().getColumnType(e.column)||""}},{key:"getColumnLabelAtPosition",value:function(e){return this.wrapper.getDataTable().getColumnLabel(e.column)||""}},{key:"getHTMLTooltip",value:function(){var e=new v.l(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new w(e)}},{key:"parseMouseEvent",value:function(e){var t=this.wrapper.getChartType(),a=e.column;if(null==a)switch(t){case"Timeline":a=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:a=0}var r={row:e.row,column:a};return{position:e,boundingBox:this.getBoundingBoxForItem(r),value:this.getValueAtPosition(r),columnType:this.getColumnTypeAtPosition(r),columnLabel:this.getColumnLabelAtPosition(r)}}},{key:"unregisterEvents",value:function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)}},{key:"registerChartEvents",value:function(){var e=this,t=this.wrapper.getChart();this.cli=t.getChartLayoutInterface?t.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(t,"onmouseover",(function(t){var a=e.parseMouseEvent(t);a.tooltip=e.getHTMLTooltip(),e.mouseOver.emit(a)})),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(t,"onmouseover",(function(t){var a=e.parseMouseEvent(t);a.tooltip=e.getHTMLTooltip(),e.mouseOverOneTime.emit(a)})),this.mouseOut.observers.length>0&&google.visualization.events.addListener(t,"onmouseout",(function(t){var a=e.parseMouseEvent(t);e.mouseOut.emit(a)})),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(t,"onmouseout",(function(t){var a=e.parseMouseEvent(t);e.mouseOutOneTime.emit(a)})),"GeoChart"===this.data.chartType&&(this.regionClick.observers.length>0&&google.visualization.events.addListener(t,"regionClick",(function(t){e.regionClick.emit(t)})),this.regionClickOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(t,"regionClick",(function(t){e.regionClick.emit(t)})))}},{key:"registerChartWrapperEvents",value:function(){var e=this;google.visualization.events.addListener(this.wrapper,"ready",(function(){e.chartReady.emit({message:"Chart ready"})})),google.visualization.events.addOneTimeListener(this.wrapper,"ready",(function(){e.chartReadyOneTime.emit({message:"Chart ready (one time)"}),e.registerChartEvents()})),google.visualization.events.addListener(this.wrapper,"error",(function(t){e.chartError.emit(t)})),google.visualization.events.addOneTimeListener(this.wrapper,"error",(function(t){e.chartErrorOneTime.emit(t)})),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)}},{key:"addListener",value:function(e,t,a,r){google.visualization.events.addListener(e,t,(function(){r.emit(a())}))}},{key:"addOneTimeListener",value:function(e,t,a,r){google.visualization.events.addOneTimeListener(e,t,(function(){r.emit(a())}))}},{key:"convertOptions",value:function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(e){return}}}]),e}()).\u0275fac=function(e){return new(e||o)(v.Jb(v.l),v.Jb(y))},o.\u0275cmp=v.Db({type:o,selectors:[["google-chart"]],inputs:{data:"data"},outputs:{chartSelect:"chartSelect",chartSelectOneTime:"chartSelectOneTime",chartReady:"chartReady",chartReadyOneTime:"chartReadyOneTime",chartError:"chartError",chartErrorOneTime:"chartErrorOneTime",mouseOver:"mouseOver",mouseOverOneTime:"mouseOverOneTime",mouseOut:"mouseOut",mouseOutOneTime:"mouseOutOneTime",regionClick:"regionClick",regionClickOneTime:"regionClickOneTime"},decls:1,vars:0,template:function(e,t){1&e&&v.Kb(0,"div")},encapsulation:2}),o),O=((i=function e(){_classCallCheck(this,e)}).\u0275mod=v.Hb({type:i}),i.\u0275inj=v.Gb({factory:function(e){return new(e||i)},providers:[y]}),i),k=((n=function(){function e(){_classCallCheck(this,e),this.isReady=!1}return _createClass(e,[{key:"redraw",value:function(){this.isReady&&(this.chart.dataTable=this.dataTable,this.chart.component.draw())}},{key:"ready",value:function(e){this.isReady=!0}},{key:"openAsPNG",value:function(){if(this.isReady){var e=this.chart.component.wrapper.getChart().getImageURI();console.log(e)}}},{key:"ngOnInit",value:function(){this.chart={chartType:"BarChart",dataTable:this.dataTable,firstRowIsData:!0,options:{reverseCategories:!0,animation:{duration:1e3,easing:"out",startup:!0},legend:{position:"none"},bar:{groupWidth:"80%"},chartArea:{height:"100%"},hAxis:{textPosition:"none",viewWindowMode:"maximized",gridlines:{count:2}},colors:["#3880ff"]}}}},{key:"ngOnChanges",value:function(e){this.redraw()}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v.Db({type:n,selectors:[["app-charts"]],inputs:{dataTable:"dataTable"},features:[v.xb],decls:2,vars:1,consts:[[3,"data","chartReady"]],template:function(e,t){1&e&&(v.Mb(0,"ion-item"),v.Mb(1,"google-chart",0),v.Ub("chartReady",(function(e){return t.ready(e)})),v.Lb(),v.Lb()),2&e&&(v.zb(1),v.Zb("data",t.chart))},directives:[C],styles:[""]}),n),L=((r=function(){function e(t){_classCallCheck(this,e),this.recordCountService=t}return _createClass(e,[{key:"createSeriesData",value:function(e){var t,a=[],r=_createForOfIteratorHelper(e=e.slice(-7));try{for(r.s();!(t=r.n()).done;){var n=t.value,i=new Date(n.t);a.push([[i.getMonth()+1,"/",i.getDate()].join(""),n.c])}}catch(o){r.e(o)}finally{r.f()}return a}},{key:"setData",value:function(){this.recordCountService.loadRecord();var e=this.recordCountService.getHalfYearRecord();this.dataTable=this.createSeriesData(e)}},{key:"ngOnInit",value:function(){this.setData()}},{key:"ionViewDidEnter",value:function(){this.setData()}}]),e}()).\u0275fac=function(e){return new(e||r)(v.Jb(m.a))},r.\u0275cmp=v.Db({type:r,selectors:[["app-tab3"]],decls:18,vars:5,consts:[[3,"translucent"],[1,"wrapper"],[3,"fullscreen"],[3,"dataTable"]],template:function(e,t){1&e&&(v.Mb(0,"ion-header",0),v.Mb(1,"div",1),v.Mb(2,"ion-toolbar"),v.Mb(3,"ion-title"),v.fc(4," Learning Log "),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Mb(5,"ion-content",2),v.Mb(6,"div",1),v.Mb(7,"ion-title"),v.fc(8," Last 1 week "),v.Lb(),v.Kb(9,"app-charts",3),v.Lb(),v.Mb(10,"div",1),v.Mb(11,"ion-title"),v.fc(12," Last 1 month "),v.Lb(),v.Kb(13,"app-charts",3),v.Lb(),v.Mb(14,"div",1),v.Mb(15,"ion-title"),v.fc(16," Last 3 months "),v.Lb(),v.Kb(17,"app-charts",3),v.Lb(),v.Lb()),2&e&&(v.Zb("translucent",!0),v.zb(5),v.Zb("fullscreen",!0),v.zb(4),v.Zb("dataTable",t.dataTable),v.zb(4),v.Zb("dataTable",t.dataTable),v.zb(4),v.Zb("dataTable",t.dataTable))},directives:[d.h,d.s,d.r,d.f,k],styles:[".wrapper[_ngcontent-%COMP%]{margin:auto;width:80%}"]}),r),S=[{path:"",component:L}],I=((h=function e(){_classCallCheck(this,e)}).\u0275mod=v.Hb({type:h}),h.\u0275inj=v.Gb({factory:function(e){return new(e||h)},imports:[[p.i.forChild(S)],p.i]}),h),E=((c=function e(){_classCallCheck(this,e)}).\u0275mod=v.Hb({type:c}),c.\u0275inj=v.Gb({factory:function(e){return new(e||c)},imports:[[g.b,O]]}),c),_=((u=function e(){_classCallCheck(this,e)}).\u0275mod=v.Hb({type:u}),u.\u0275inj=v.Gb({factory:function(e){return new(e||u)},imports:[[d.u,g.b,f.a,p.i.forChild([{path:"",component:L}]),I,E]]}),u)}}]);